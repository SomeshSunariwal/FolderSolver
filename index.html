<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>FolderSolver</title>
    <meta http-equiv="Extend-Script-Control" content="EnableRedirection" />
    <link rel="stylesheet" href="css/panel.css" />
</head>

<body class="foldersolver">
    <div class="panel">

        <!-- Top toolbar -->
        <header class="toolbar toolbar--top header--style" style="display: flex; justify-content: flex-end; gap: 8px;">
            <button id="btnAddTop" class="btn btn--md btn--primary" style="margin-right:auto;">+ Add</button>
            <button id="btnCountResources" class="btn btn--md btn--secondary">Count Resources</button>
            <button id="btnAutoSort" class="btn btn--md btn--secondary">Auto Arrange</button>
        </header>

        <section class="box">
            <ul id="folderList" class="list" aria-label="Folders">
                <!-- Start empty; items will be added dynamically -->
            </ul>
        </section>

        <div id="progressContainer" style="display:none; margin:10px 0;">
            <div style="position: relative; width: 100%; background: #ddd; height: 25px; border-radius: 5px;">
                <div id="progressBar" style="width: 0%; height: 100%; background: #4caf50; border-radius:5px;"></div>
                <span id="progressText"
                    style="position: absolute; right: 5px; top: 0; height: 100%; display:flex; align-items:center; font-weight:bold; color:#fff;">0%</span>
            </div>
        </div>

        <!-- Bottom toolbar (centered "Add to Project") -->
        <footer class="toolbar toolbar--bottom toolbar--center">
            <button id="btnReset" class="btn btn--md btn--secondary">Reset Folders</button>
            <button id="btnAddToProject" class="btn btn--md btn--primary">Add to Project</button>
            <span class="footer-copyright">Copyright Â© Somesh</span>
        </footer>
    </div>

    <!-- Modal for Auto Sort -->
    <div id="sorterModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="closeSorterModal">&times;</span>
            <h2>Re-Arrange Resources</h2>
            <div id="sorterResults">
                <!-- Scan results will appear here -->
            </div>
            <div class="modal-footer" style="text-align:center; margin-top: 20px;">
                <button id="btnExecuteTransfer" class="btn btn--primary btn--large">Execute Transfer</button>
            </div>
        </div>
    </div>

    <div id="resourceModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="closeResourceModal">&times;</span>
            <h2>Project Resource Counts</h2>
            <div id="resourceResults">
                <!-- Counts will appear here -->
            </div>
        </div>
    </div>

    <!-- Scripts kept for later wiring; no behavior implemented in this step -->
    <script src="./jsx/extendscript.jsx"></script>
    <script src="./jsx/autosortscan.jsx"></script>
    <script src="./lib/CSInterface.js"></script>
    <script src="./lib/jquery-1.9.1.js"></script>
    <script src="./lib/Vulcan.js"></script>
    <script src="./lib/CEPEngine_extensions.js"></script>
    <script src="./log/logging.js"></script>
    <script src="./js/autosortscan.js"></script>
    <script src="./js/main.js"></script>
</body>

</html>